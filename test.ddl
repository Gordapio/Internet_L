CREATE TABLE USUARIOREG (ID_USUARIO BIGINT NOT NULL, APELLIDOS VARCHAR(255) NOT NULL, CONTRASEÃ‘A VARCHAR(255) NOT NULL, DIRECCION VARCHAR(255), DNI VARCHAR(255) UNIQUE, EMAIL VARCHAR(255) NOT NULL UNIQUE, FECHA_NACIMIENTO VARCHAR(255), NICKNAME VARCHAR(255) NOT NULL UNIQUE, NOMBRE VARCHAR(255) NOT NULL, ROL INTEGER NOT NULL, TELEFONO INTEGER, PRIMARY KEY (ID_USUARIO))
CREATE TABLE VALORACION (ID_VALORACION BIGINT NOT NULL, COMENTARIO VARCHAR(255), PUNTUACION INTEGER NOT NULL, AUTOR_ID_USUARIO BIGINT, PRIMARY KEY (ID_VALORACION))
CREATE TABLE EVENTO (ID_EVENTO BIGINT NOT NULL, COMPLEJO VARCHAR(255), DESCRIPCION VARCHAR(255), DESTACADO SMALLINT DEFAULT 0, DIRECCION VARCHAR(255), FECHA_FIN DATE, FECHA_INICIO DATE, HORA_FIN TIME, HORA_INICIO TIME, LOCALIDAD VARCHAR(255), NOMBRE VARCHAR(255) NOT NULL, ORGANIZADOR VARCHAR(255) NOT NULL, PRECIO FLOAT, PROPUESTO SMALLINT DEFAULT 0 NOT NULL, TE INTEGER, TLF_CONTACTO INTEGER NOT NULL, VISIBLE SMALLINT DEFAULT 0 NOT NULL, PRIMARY KEY (ID_EVENTO))
CREATE TABLE EVENTO_USUARIOREG (Evento_ID_EVENTO BIGINT NOT NULL, likes_ID_USUARIO BIGINT NOT NULL, PRIMARY KEY (Evento_ID_EVENTO, likes_ID_USUARIO))
CREATE TABLE EVENTO_VALORACION (Evento_ID_EVENTO BIGINT NOT NULL, valoraciones_ID_VALORACION BIGINT NOT NULL, PRIMARY KEY (Evento_ID_EVENTO, valoraciones_ID_VALORACION))
ALTER TABLE VALORACION ADD CONSTRAINT VLRCIONTRIDUSUARIO FOREIGN KEY (AUTOR_ID_USUARIO) REFERENCES USUARIOREG (ID_USUARIO)
ALTER TABLE EVENTO_USUARIOREG ADD CONSTRAINT VNTSRIOREGlksDSRIO FOREIGN KEY (likes_ID_USUARIO) REFERENCES USUARIOREG (ID_USUARIO)
ALTER TABLE EVENTO_USUARIOREG ADD CONSTRAINT VNTSRIOREGvntDVNTO FOREIGN KEY (Evento_ID_EVENTO) REFERENCES EVENTO (ID_EVENTO)
ALTER TABLE EVENTO_VALORACION ADD CONSTRAINT VNTVLRvlrcnsDVLRCN FOREIGN KEY (valoraciones_ID_VALORACION) REFERENCES VALORACION (ID_VALORACION)
ALTER TABLE EVENTO_VALORACION ADD CONSTRAINT VNTVLRCIONvntDVNTO FOREIGN KEY (Evento_ID_EVENTO) REFERENCES EVENTO (ID_EVENTO)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(15), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
