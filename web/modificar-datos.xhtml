<ui:composition template="/WEB-INF/templates/plantilla.xhtml" 
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui">
    
<ui:define name="title">ModificarDatos</ui:define>
    <ui:define name="content">
        <!-->
        <h:head>
            <link rel="stylesheet" href="./resources/css/modificar-datos" type="text/css"/>
            <link rel="stylesheet" href="./resources/css/modificar-datos-grid.css" type="text/css"/>
        </h:head>

  <h:body>
    <-->
      <c:choose>
      <c:when test="${empty usuarioControlador.user}">
       No está logueado como usuario
    </c:when>
          <c:when test="#{usuarioControlador.user.rol == 'normal'}"> 
        
          <p>¡¡Bienvenido <h:outputText value="#{usuarioControlador.user.nickname}"/>!!</p>
                
                <h:form id="mod">
                    
                    <h:panelGrid columns="2" columnClasses="column" cellpadding="5" cellspacing="1" >
                   
                    <h:outputLabel for="nick" value="Nickname:" />
                    <p:inplace id="nick" editor="true">
                         <p:inputText value="#{usuarioControlador.user.nickname}" required="true" label="text" />
                    </p:inplace>
                    
                   
                    <h:outputLabel for="email" value="E-mail:" />
                    <p:inplace id="email" editor="true">
                        <p:inputText value="#{usuarioControlador.user.email}" required="true" label="text" />
                    </p:inplace>
                    
                    
                    <h:outputLabel for="pass" value="Contraseña:" />
                    <p:inplace id="pass" editor="true">
                        <p:inputText value="#{usuarioControlador.user.contraseña}" required="true" label="text" />
                    </p:inplace>
                    
                   
                    <h:outputLabel for="dni" value="DNI:" />
                    <p:inplace id="dni" editor="true">
                        <p:inputText value="#{usuarioControlador.user.dni}" required="true" label="text" />
                    </p:inplace>
                    
                    
                    <h:outputLabel for="address" value="Dirección:" />
                    <p:inplace id="address" editor="true">
                        <p:inputText value="#{usuarioControlador.user.direccion}" required="true" label="text" />
                    </p:inplace>
                    
                    
                    <h:outputLabel for="tlf" value="Teléfono:" />
                    <p:inplace id="tlf" editor="true">
                        <p:inputText value="#{usuarioControlador.user.telefono}" required="true" label="text" />
                    </p:inplace>
                    
                   
                    <h:outputLabel for="remove" value="Borrar usuario:" />                   
                    <h:commandButton id="borrarusuario" value="Borrar" action="#{usuarioControlador.borrarUsuario(usuarioControlador.user)}" />
                    
                    </h:panelGrid>
                </h:form>
    </c:when> 
          
          <c:when test="#{(usuarioControlador.user.rol == 'administrador') and (!empty usuarioControlador.periodistaSelected)}">
          
          <p>¡¡Bienvenido <h:outputText value="#{usuarioControlador.user.nickname}"/>!!</p>
                
                <h:form id="modi">
                
                    
                     <h:panelGrid columns="2" columnClasses="column" cellpadding="5" cellspacing="1" >
                   
                    <h:outputLabel for="nick" value="Nickname:" />
                    <p:inplace id="nick" editor="true">
                         <p:inputText value="#{usuarioControlador.periodistaSelected.nickname}" required="true" label="text" />
                    </p:inplace>
                    
                   
                    <h:outputLabel for="email" value="E-mail:" />
                    <p:inplace id="email" editor="true">
                        <p:inputText value="#{usuarioControlador.periodistaSelected.email}" required="true" label="text" />
                    </p:inplace>
                    
                    
                    <h:outputLabel for="pass" value="Contraseña:" />
                    <p:inplace id="pass" editor="true">
                        <p:inputText value="#{usuarioControlador.periodistaSelected.contraseña}" required="true" label="text" />
                    </p:inplace>
                    
                   
                    <h:outputLabel for="dni" value="DNI:" />
                    <p:inplace id="dni" editor="true">
                        <p:inputText value="#{usuarioControlador.periodistaSelected.dni}" required="true" label="text" />
                    </p:inplace>
                    
                    
                    <h:outputLabel for="address" value="Dirección:" />
                    <p:inplace id="address" editor="true">
                        <p:inputText value="#{usuarioControlador.periodistaSelected.direccion}" required="true" label="text" />
                    </p:inplace>
                    
                    
                    <h:outputLabel for="tlf" value="Teléfono:" />
                    <p:inplace id="tlf" editor="true">
                        <p:inputText value="#{usuarioControlador.periodistaSelected.telefono}" required="true" label="text" />
                    </p:inplace>
                    
                   
                    <h:outputLabel for="remove" value="Borrar usuario:" />                   
                    <h:commandButton id="borrarusuario" value="Borrar" action="#{usuarioControlador.borrarPeriodista(usuarioControlador.periodistaSelected)}" />
                    
                    </h:panelGrid>
                    

                </h:form>
          
          </c:when>     
          
        <c:otherwise>
                <p>Solo puedo modificar sus datos un usuario normal</p>
            </c:otherwise>
    </c:choose>
    </ui:define>
  <!--></h:body><-->
</ui:composition> 